---
title: RecognitionSettings
description: 
published: true
date: 2024-02-16T12:44:19.608Z
tags: 
editor: markdown
dateCreated: 2024-02-16T08:23:30.855Z
---

# Настройки распознавания
## Распознавание текста
### Поиск по SQL

На экран можно добавить элемент «Распознавание текста» (в ActiveCV это является детектором), при этом необходимо указать настройку распознавания (справочник «Настройки распознавания») с видом распознавания «Распознавание текста». Данный вид распознавания предполагает что будет вестись поиск заданной текстовой строки из некой базы строк. Например, у вас есть справочник товаров с артикулами, таким образом, в настройке нужно определить запрос к справочнику товары и в реквизите проверяемое поле определить артикул, а также указать соответствие полей таблицы и переменных. Так как этот процессинг выполняется в видеопотоке запрос должен быть быстрым, поэтому это прямой SQL запрос и таблица должна быть на устройстве (см. варианты синхронизации SQL таблиц).

Данный способ обеспечивает почти 100% точность работы в целом, так как алгоритм точно знает какие образцы требуется найти (выбирает из списка), а не выдает просто наиболее вероятные гипотезы как в обычном OCR.

> Возможно, потребуется организовать отдельное поле таблицы, где будут текстовые идентификаторы, преобразованные к виду, удобном для распознавания. Например указана только значащая часть текстового идентификатора.
{.is-info}

> Распознавание ведется в латинском алфавите, поэтому если артикулы содержат русские буквы, их надо преобразовать в латинские.
{.is-info}

Также следует учесть, что OCR часто путает «O» и «0» поэтому возможно потребуется включить галку «Преобразовать O в ноль» если например нужно распознавать только цифры.

Возможно, увеличить эффективность можно будет если поставить галку «Привести в верхний регистр», тогда артикулы в поисковом поле таблицы также нужно привести в верхний регистр.

Минимальное количество символов лучше указать если оно известно (например известно что все артикулы длиннее 3х символов)

Повышение показателя «Количество измерений» повышает точность, но снижает скорость. Также совместно с этим полем можно задать минимальную среднюю частоту. Например на 10 измерений 75% - считать верным.

Настройки подбираются под условия распознавания индивидуально - от этого зависит успешность проекта.

### Распознавание текста в режиме поиска образцов, где образцы передаются в списке а не SQL (в ActiveCV)

Можно не прописывать SQL-запрос для идентификации образцов(и не заниматься синхронизацией таблицы на устройствах), а передать список возможных вариантов через переменную из обработчика в виде списка с разделителями - «;». Т.е. например установить переменную @list в поле настройки распознавания «Список возможных значений» и в этой переменной передать артикулы «DK00022;SK02111» - по этим значениям будет осуществляться распознавание.

### Распознавание текста в режиме обработки образцов в обработчике

В «Распознавании текста» (не ActiveCV, только обычные экраны) можно указать вместо «Список значений» массив обработчиков с префиксом "~"массив обработчиков. Таким образом при детектирования текста, весь найденный текст будет попадать в обработчик в переменную **ocr_text**. Далее в обработчике анализируется текст (например ищется товар по артикулу). И для окончания цикла распознавания нужно поместить переменную **ocr_result**

## Распознавание дат и чисел
Распознавание дат может пригодиться для проверки сроков годности, приемки серий товара путем сканирования даты производства в упаковке и т.д. Распознавание чисел может быть альтернативой «Распознаванию текста» для поиска числовых артикулов или для других целей.

В отличии от варианта «Распознавание текста», варианты «Распознавание дат» и «Распознавание чисел» не знают точно что искать (нет конечного набора артикулов), но знают **формат искомого образца** – это различные форматы написания дат (для распознавания дат) и форматы чисел. Для этих способов не требуется готовить таблицу SQL и запрос.

Данные виды распознавания возвращают ВСЕ найденные в кадре объекты через точку с запятой в переменную, указанную в настройках (Переменная результат).

Все настройки сводятся к выбору Вида распознавания в «Настройках распознавания», а также настроек:

- Количество объектов в кадре. Например, на упаковке «Дата производства» и «Срок годности» - нужно указать что требуется 2 объекта     
- Количество измерений – имеет смысл в использовании совместно с предыдущим параметром. Например, требуется найти 2 даты, за 10 измерений найдено 4 гипотезы, отсортированы по частоте и топ этого списка – 2 первых записи, как раз и будут 2 искомые даты. Это значительно повышает точность.    
- Минимальное и максимальное количество символов – если известны границы количества символов в искомой метке.

## Распознавание автомобильных номеров
Еще один вид «распознавания по шаблону». В настройке нужно выбрать вид распознавания «Автомобильные номера». Больше никаких настроек. В настоящий момент доступны только российские номера. Потом будут добавлены другие.

## Распознавание материальных объектов, предметов
В этом виде детектора происходит выделение границ материальных объектов в кадре и захват объекта в целом. При этом выделяются только те объекты в которых есть учетная информация - штрихкод или объект OCR. Система связывает физический объект с его идентификатором и воспринимает как целостный объект. Т.е. например система захватит и покажет границы коробки, если на этой коробке есть серийный номер или штрихкод. При этом даже если штрихкод или текст уже не распознаются, но объект остается захвачен в кадре для системы это остается прежним объектом - она его ведет и знает что это искомый идентифицированный объект. Работает более плавно чем OCR/чтение штрихкодов так как не ищет новые гипотезы при разных условиях видимости текста/штрихкода. Существует 3 настройки: Объекты с OCR и штрихкодом/Объекты только с OCR и Объекты только с штрихкодом.

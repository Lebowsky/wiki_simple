# Настройки OCR

Настройки распознавания (поле VisionSettings) можно задавать в конструкторе и также можно задать настройки из кода перед началом распознавания (для экранов и ActiveCV) с помощью команды-переменной:

**SetVisionSettings{словарь с настройками}** – команда для экранов и ActiveCV которая, если ее выполнить до запуска распознавания, задаст настройки детектора

Доступны следующие настройки:

Для варианта «опорная выборка – SQL»:
 - **query** - SQL запрос для варианта поиска по SQL-таблице с одним параметром(в который передается распознанный текст ) Например: 
	```SQL
	SELECT * FROM SW_Goods WHERE product_number LIKE ?  	 
	``` 
 - **control_field** - поле таблицы по которому проверяется OCR , условно Артикул (несмотря на то, что в query оно скорее всего также участвует)>     
 - массив **cursor** с объектами 
	```JSON
	{"field": "поле таблицы",
	 "var": "переменная результат"}
	```
     

Для варианта «опорная выборка – список значений/обработчик":
 - **values_list** (строка) - режим поиска по списку, либо обработчиком. В случае, если опорная выборка – список значений, то он передается строкой с разделителями «;» . Если на событие распознавания текста нужно назначить обработчик, в который передастся весь распознанный текст, то в этот параметр передается строка вида ~<массив обработчиков> . В обработчик попадает распознанный текст в переменную ocr_text. В случае успешного распознавания необходимо поместить что то в переменную ocr_res. Этот вариант только для «Распознавание текста» на экранах, для ActiveCV есть подобное - Мультисканер  

Настройки параметров фильтрации:

 - **min_length** (число) - минимальная длина текста     
 - **max_length** (число) - максимальная длина текста
 - **ReplaceO** (булево) - заменить буквы О на 0 (нули)     
 - **ToUpcase** (булево) - преобразование в верхний регистр  
 - **mesure_qty** (число) - количество измерений (по умолчанию 1 и частота не анализируется)     
 - **min_freq** (число) - число от 0 до 100 - вероятность (в процентах для удобства ввода)     
 - **OnlyNumbers** (булево) - только для Мультисканер - фильтрация только тех объектов, которые - числа     

Специальные режимы:

 - **PlateNumberRecognition** (булево) – режим распознавания автомобильных номеров российские номера (только для ActiveCV)     
 - **NumberRecognition** (булево) - распознавание чисел    
 - **DateRecognition** (булево) - распознавание дат
 - **result_field** (строка) - для распознавания дат и номеров, туда помещается результаты особым образом (смотря что ищем)     
 - **count_objects** (число) – только для NumberRecognition количество циклов измерений. Чем больше циклов тем больше точность

# Распознавание текста

#### Поиск по SQL

На экран можно добавить элемент «Распознавание текста» (в ActiveCV это является детектором), при этом необходимо указать настройку распознавания (справочник «Настройки распознавания») с видом распознавания «Распознавание текста». Данный вид распознавания предполагает что будет вестись поиск заданной текстовой строки из некой базы строк. Например, у вас есть справочник товаров с артикулами, таким образом, в настройке нужно определить запрос к справочнику товары и в реквизите проверяемое поле определить артикул, а также указать соответствие полей таблицы и переменных. Так как этот процессинг выполняется в видеопотоке запрос должен быть быстрым, поэтому это прямой SQL запрос и таблица должна быть на устройстве (см. варианты синхронизации SQL таблиц).

Данный способ обеспечивает почти 100% точность работы в целом, так как алгоритм точно знает какие образцы требуется найти (выбирает из списка), а не выдает просто наиболее вероятные гипотезы как в обычном OCR.

> [!info] Примечание
> Возможно, потребуется организовать отдельное поле таблицы, где будут текстовые идентификаторы, преобразованные к виду, удобном для распознавания. Например указана только значащая часть текстового идентификатора.

> [!info] Примечание
> Распознавание ведется в латинском алфавите, поэтому если артикулы содержат русские буквы, их надо преобразовать в латинские.

Также следует учесть, что OCR часто путает «O» и «0» поэтому возможно потребуется включить галку «Преобразовать O в ноль» если например нужно распознавать только цифры.

Возможно, увеличить эффективность можно будет если поставить галку «Привести в верхний регистр», тогда артикулы в поисковом поле таблицы также нужно привести в верхний регистр.

Минимальное количество символов лучше указать если оно известно (например известно что все артикулы длиннее 3х символов)

Повышение показателя «Количество измерений» повышает точность, но снижает скорость. Также совместно с этим полем можно задать минимальную среднюю частоту. Например на 10 измерений 75% - считать верным.

Настройки подбираются под условия распознавания индивидуально - от этого зависит успешность проекта.

#### Распознавание текста в режиме поиска образцов, где образцы передаются в списке а не SQL (в ActiveCV)

Можно не прописывать SQL-запрос для идентификации образцов(и не заниматься синхронизацией таблицы на устройствах), а передать список возможных вариантов через переменную из обработчика в виде списка с разделителями - «;». Т.е. например установить переменную @list в поле настройки распознавания «Список возможных значений» и в этой переменной передать артикулы «DK00022;SK02111» - по этим значениям будет осуществляться распознавание.

#### Распознавание текста в режиме обработки образцов в обработчике

В «Распознавании текста» (не ActiveCV, только обычные экраны) можно указать вместо «Список значений» массив обработчиков с префиксом "~"массив обработчиков. Таким образом при детектирования текста, весь найденный текст будет попадать в обработчик в переменную **ocr_text**. Далее в обработчике анализируется текст (например ищется товар по артикулу). И для окончания цикла распознавания нужно поместить переменную **ocr_result**


[[Узнать 3]]
 Распознавание текста в режиме поиска образцов, где образцы передаются в списке а не SQL (в ActiveCV) - не реализуется
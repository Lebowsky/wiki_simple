# Уведомления и тосты

Команды уведомлений работают из любого контекста вызова, не только на экранах, но и из фона и команд по расписанию.
**toast** - всплывающее внизу экрана уведомление. В качестве параметра просто текст сообщения. Работает в любом контексте. 
```python
if hashMap.get("listener") == "toast_send":  
    hashMap.put("toast", "Вывод toast")
```
![[Pastedimage20240117121356.png]]
**basic_notification** - простое уведомление на экран блокировки c темой и текстом. Работает отовсюду, в том числе из фона. Совместно с сервисом по расписанию можно использовать как замену push. Можно передавать несколько сразу, поэтому в качестве параметра передается JSON-массив, в str формате. Каждое уведомление должно иметь свой номер. По номеру можно обновлять уже выведенные обновления. Например можно вывести уведомление «Началась обработка» с номером 1, а потом послать еще одно уведомление «Обработка завершена» с номером 1 и ОС обновит на экране существующее уведомление если его еще не смахнул пользователь, если его нет – выведет новое. 
Пример:
```python
if hashMap.get("listener") == "basic_send":  
    json_type = [{"number": 2,
			      "title": "Информация",  
                  "message": "Послали basic"}]  
    hashMap.put("basic_notification",f'{json_type}')
```
Тут в JSON зарезервированные слова «number», «title» и «message» - номер, тема и сам текст сообщения.
![[Pastedimage20240117122609.png]]
**reply_notification** - частный случай обычного уведомления с такими же параметрами запуска, только в уведомлении можно нажать кнопку «Ответить» , ввести текст ответа и отправить его. При ответе сработает специальный обработчик конфигурации на котором можно прописать свою логику. В обработчике доступна переменная reply с текстом, который ввел пользователь. Таким образом можно например отправить текст http-запросом. Этот вид уведомлений поддерживается Android начиная с Oreo.
```python
if hashMap.get("listener") == "reply_send":  
    json_type = [{"number": 1,  
                  "title": "Информация",  
                  "message": "Послали reply"}]  
    hashMap.put("reply_notification",f'{json_type}')
```
![[Pastedimage20240117124406.png]]

[[Узнать]]
Про **UpdateProgressNotification**

=
Вернуться позже
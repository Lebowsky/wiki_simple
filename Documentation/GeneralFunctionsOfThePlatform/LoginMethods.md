---
title: LoginMethods
description: 
published: true
date: 2024-02-16T12:31:33.666Z
tags: 
editor: markdown
dateCreated: 2024-02-16T08:23:56.819Z
---

# Способы входа
## Диалог ПИН-кода
Из процесса или на старте системы можно вывести диалог ПИН-кода. Команда **ShowPIN** с параметром - json-строка. В JSON поля: 
**title** заголовок,
**block_cancel** - запретить закрытие окна (невозможно будет отказаться от ввода ПИН), 
**handlers** - массив обработчиков событий. Проверка ПИН-кода и реакция системы полностью определяется разработчиком на основе событий и введенного пин-кода. Пин-код в случае успешного ввода (успешный - значит введено 4 символа) передается через переменную **pin**. Возможные события:
> - pin_success - пользователь ввел 4 знака, записалась переменная pin
> - pin_cancel - пользователь закрыл окно ввода (в случае такой возможности)

## Проверка отпечатков пальцев и лица
Если устройство поддерживает датчик отпечатка пальца или распознавание лиц, то можно вызвать стандартный диалог проверки биометрических данных. Причем, можно сделать это при запуске (в событии onLaunch), а можно просто запустить из процесса.
Запуск производится командой **ShowBiometric**, с параметром - json-строка. В JSON поля: 
**title** заголовок
**body** - текст
**handlers** - массив обработчиков для отлова событий по биометрии. 
Возможны следующие события (listener):
> - BiometricAuthenticationSucceeded - пользователь успешно прошел проверку
> - BiometricAuthenticationFailed - проверка либо прошла, но неуспешно, либо пользователь закрыл окно аутентификации
> - BiometricAuthenticationError - ошибка создания объекта аутентификации. Скорее всего, функция не поддерживается на устройстве. Дополнительную информация можно прочитать в BiometricError

## Логин и запуск конфигурации
Доступ к настройкам сервиса(экран «Настройки») и перезапуску конфигурации. В Переменные по умолчанию записываются переменные CLIENT_CODE, WS_URL, WS_USER, WS_PASS с настройками онлайн-подключения по умолчанию. Также появился элемент контейнера «Поле ввода пароля». Также появились команды RunLogin или RunSaveLogin - первая просто загружает с настройками - вторая- сохраняет настройки. Этим командам надо передать JSON типа 
```json
{"code": "code",
 "user": "user",
 "password": "pass"}
```
Также в JSON можно передавать «backendURL» и «backendUser»

Для того, чтобы произошла загрузка нужной конфигурации нужно заполнить переменную `ID` кодом справочника Мобильные клиенты, нужного клиента. Это тот же код который указывается в настройках. Если с терминалом будут работать несколько человек, можно создать конфигурацию, содержащую только процесс «Логин» , и другие клиенты будут подгружаться из нее. Также процесс с логином можно добавить во все конфигурации клиентов, в которых нужно перелогироваться (совместное использование одного терминала)
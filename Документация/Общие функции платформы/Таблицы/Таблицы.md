Через переменные в виде строки json можно передавать произвольные таблицы и размещать их в разных местах программы. Под таблицей подразумевается табличная форма - колонки и строки. Также через элемент «Таблица» можно отпределить список, аналогичный списку карточек- подробнее в «Список карточек»

Произвольная таблица может быть представлена в виде:

- **Элемента экрана**, вместе с другими элементами. Для этого нужно использовать элемент экрана «Таблица» и в переменной передать строку json в специальном формате
- Переопределить нажатие центральной кнопки **План-факт**. Старый формат также действует, но если задана произвольная таблица то это имеет приоритет. Для этого нужно вставить переменную **central_table**. `hashMap.put("central_table", CтpoкaJSON)`
- Вызвать отдельное окно с таблицей по какому то событию (например по нажатию кнопки) с заполненной таблицей на весь экран. Для этого нужно использовать переменную **report_table**
- `hashMap.put("report_table",CтpoкaJSON)`

В структуре json можно описывать :

> - столбцы таблицы – имя, заголовок, ширину колонки
> - Общие опции таблицы – размер шрифта, скрыть заголовок, отключить подсветку линий через строку
> - Непосредственно данные в ячейках
> - Раскраску отдельных ячеек произвольными цветами

Структура формата таблицы не зависит от места использования таблицы – она общая.
Пример формата:
```json
{
"type": "table",
"textsize": "25",
"hidecaption": "true",
"hideinterline": "true",
"columns": [
  {
    "name": "nom",
    "header": "Товар",
    "weight": "2"
  },
  {
    "name": "qty",
    "header": "Кол-во",
    "weight": "1"
  },
  {
    "name": "price",
    "header": "Цена",
    "weight": "1"
  }
],
"rows": [
  {
    "name": "Процессов Intel Core 9 OEM",
    "qty": "5",
    "price": "15500.00"
  },
  {
    "name": "Процессов Intel Core 5 BOX",
    "qty": "-2",
    "price": "12500.00"
  },
  {
    "name": "Процессов Intel Core 5 (OEM)",
    "qty": "2",
    "price": "11500.00"
  }
],
"colorcells": [
  {
    "row": "1",
    "column": "1",
    "color": "#d81b60"
  }
]
}
```

Атрибут type обязательный он должен быть всегда значение «table»
> [!info]- Атрибуты таблиц
>- **textsize** -необязательный – отвечает за размер текста
>- **hidecaption** – необязательный – не выводить шапку таблицы
>- **hideinterline** – необязательный – не выводить раскраску строк
>- **borders** – необязательный – выводит границы ячеек таблицы
>- **columns** _обязательный_ массив в котором описываются колонки. 
>**name** – внутреннее имя 
>**header** -отображаемый заголовок 
>**weight** – ширина колонки в виде относительного веса 
>**gravity** - выравнивание текста (left,right,center). Если задать все колонки в 1 то они будут равны.
>- **rows** _обязательный_ массив в котором описываются строки. Каждый элемент имеет имя, совпадающее с именем столбца и значение
>- **colorcells** _необязательный*_ массив– подсветка произвольных ячеек нужным цветом. Строка и столбец задаются номерами начиная с 0. Цвет (color) – в HEX виде.

Нажатие на строку таблицы таблицы вызывает _событие ввода_ и передачи данных на сервер. Выбранная строка - объект JSON сериализуется в переменную **selected_line**

Для «самостоятельно режима» при клике по таблице возвращается не json. Программа ищет в выделенной строке поля **id**, **order** и **orderRef** и если они есть, записывает в переменные значения `selected_line_id`, `order` и `orderRef`
![[Pasted image 20240122162004.png]]

 >[!info]- **onLaunch** 
 >#### При запуске перед формированием главного меню. Так как вызывается до формирования меню, то в этом обработчике например можно перерисовать меню или заполнить плитки. По сути заменяет [[Таймер экрана|Таймер]] с периодом -1, который также можно использовать для этой цели. 

 >[!info]- **onIntentBarcode**
 >#### Получение штрихкода через подписку на Intent на уровне платформы в целом(до экрана). Например может использоваться для работы со сканером без экранов, либо для предпроверки штрихкодов. В переменные помещается: listener=”barcode”, barcode - штрихкод 

 >[!info]- **onBluetoothBarcode**
 >#### Получение штрихкода от подключенного Bluetooth-сканера на уровне платформы в целом. В переменные помещается: listener=”barcode”, barcode - штрихкод 
 
 >[!info]- **onBackgroundCommand** 
 >#### Получение события onBackgroundCommand в сервисе событий, отправленного из какого то обработчика (командой-переменной BackgroundCommand ) . В listener помещается аргумент команды BackgroundCommand 

 >[!info]- **onRecognitionListenerResult** 
 >#### События по результату распознавания речи после использования команды voice в сервисе. В переменные помещается: listener=”voice_success”, voice_result=<распознанная фраза> 
 
 >[!info]- **onIntent** 
 >#### Получение сообщения от другого Андроид-приложения (подписка на Intent). Из сообщения извлекается поле “body” и помещается в переменную. Через него можно передавать данные от другого приложения. 

>[!info]- **onWebServiceSyncCommand**
> #### Получение команды через встроенный веб-сервер приложения. На адрес веб-сервиса <адрес устройства>:8095 можно послать запрос GET или POST вида 
> #### `http:/{ip}:8095?mode=SyncCommand&listener={NameListener}`
> ### Пример отправки
>```python
>query = 'http://127.0.0.1:8095/?mode=SyncCommand&listener=put_data' 
>json_data = 'json файл' 
>our_headers = {'Content-Type': 'Application/json; charset=utf-8'} 
>requests.post(query, json=json_data, headers=our_headers)
>```
>#### Обработчик может что то поместить в переменные и все переменные отправляются назад в виде JSON объекта. Но, можно также не отправлять все переменные а переопределить ответ(например сделать не JSON а строковый) с помощью команды WSResponse 

>[!info]-  **onSQLDataChange** и **onError**
>#### Возникают при выполнении любой записи в SQL если запрос идёт через SQL-провайдера (onError в случае ошибки). Таким образом можно например перехватывать записываемые данные централизованно и помещать их в очередь на отправку. 

>[!info]-  **onOpenFile**
>#### Событие, в котором можно получить файл, открытый приложением. С приложением можно поделиться текстовым файлом любым способом (через Поделиться… и через Открыть с помощью…) даже если приложение не открыто. При этом срабатывает обработчик и в переменные content и extra_text помещается содержимое файла и ссылка на файл.

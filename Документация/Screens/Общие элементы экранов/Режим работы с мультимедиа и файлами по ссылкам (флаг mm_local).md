Можно хранить мультимедиа и галереи в виде base64-строки, но это довольно ресурсозатратный процесс. Вследствие того что кодирование и раскодирование занимает время и место, обычно при таком подходе мультимедиа сильно сжимают и по размеру и по компрессии. Альтернатива этому новый режим который задействуется переменной **mm_local**
`hashMap.put("mm_local", "")`
При таком режиме файлы хранятся на диске, а в Переменных хранятся только их идентификаторы. Т.е. при попадании новой например картинки в устройство он сохраняется на диске, взамен выдается идентификатор, далее операции производятся с идентификатором а когда нужно отправить эту картинку по синхронизации по идентификатору можно получить сам файл. Имя файла совпадает с идентификатором. Файлы хранятся во внутреннем хранилище приложения. Имя файла - сгенерированный uid. картинки можно не сжимать при таком подходе но все равно есть возможность сжимать. Для этого используются флаги **mm_compression** и **mm_size** где в качестве параметра указывается процент от 100% реального размера и 100% качества.
`hashMap.put("mm_compression", "70")` - это будет компрессия 70%. 
`hashMap.put("mm_size", "50")` - это будет размер 50%
Использование этих 3х флагов очень простое - если флаги объявлены на экране (в «При открытии» например) то активные элементы (добавление фото, галерея и т.д.) ведут себя соответствующе - возвращают не base64 а ссылки на файлы. 
Файлы, генерируемые на устройстве, это в том числе изображения с камеры или медиагалереи устройства, загружаемые с ключом mm_local. У подобных файлов при сохранении генерируется uuid, по которому к нему можно обратиться. Этот uuid равен имени файла. Можно просто работать с именем файла, запоминая его в своих структурах данных. Например при фотографировании в режиме mm_local в переменную (допустим переменная камеры называется photo) сохраняется абсолютный путь с приставкой _path, то есть в данном случае будет переменная photo_path.
```python
if hashMap.get("listener") == "photo":  
    hashMap.put("toast", hashMap.get("photo_path"))
```
Вывод toast с путем к файлу
Сами ссылки хранятся в СУБД на устройстве в виде пар «идентификатор-путь к файлу» и могут быть получены в любой момент командой «getfiles» `hashMap.put("getfiles", "")`
и выданы в событии «_results» в переменную «_files». То есть всегда можно узнать абсолютный путь к файлу, получить файл и сделать с ним что угодно. Например наложить фильтры, удалить и т.д. Кроме того при синхронизации (при входящих файлах) следует также использовать специальную команду «addfile_идентификатор, путь к файлу» для того чтобы записать в массив _files идентификатор и путь.